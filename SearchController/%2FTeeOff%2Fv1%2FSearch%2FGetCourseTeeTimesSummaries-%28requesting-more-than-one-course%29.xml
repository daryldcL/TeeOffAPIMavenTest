<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="e277716f-bf2a-4233-a04e-028d9ccfd6b5" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="/TeeOff/v1/Search/GetCourseTeeTimesSummaries (requesting more than one course)" searchProperties="true" timeout="0" maxResults="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="b3ed811e-805a-4a3e-80f6-a7b3216db8fffileName">%2FTeeOff%2Fv1%2FSearch%2FGetCourseTeeTimesSummaries</con:setting><con:setting id="e277716f-bf2a-4233-a04e-028d9ccfd6b5fileName">%2FTeeOff%2Fv1%2FSearch%2FGetCourseTeeTimesSummaries-%28requesting-more-than-one-course%29</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="restrequest" name="Test Request: Start Session" id="fa84994c-8f5f-4cba-a067-cf47989b8f4f"><con:settings/><con:config service="OpenTee.ExternalApi" resourcePath="/TeeOff/v1/User/SessionStart" methodName="UserController_SessionStart" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Test Request: Start Session" id="361af8ca-7e28-4076-9924-c385f0b5db38" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev-api.opentee.com</con:endpoint><con:request/><con:originalUri>https://dev-api.opentee.com/TeeOff/v1/User/SessionStart</con:originalUri><con:assertion type="XPath Match" id="a91ad1b8-c8c3-49bb-8f6d-67ac3fed9906" name="Success"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/User/SessionStart';
//ns1:Response[1]/ns1:Success[1]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>test</con:username><con:password>test</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Test Request: GetTeeTimesByCourse" id="8a42db00-9caa-4c19-93ee-c4d872be35c0"><con:settings/><con:config service="OpenTee.ExternalApi" resourcePath="/TeeOff/v1/Search/GetTeeTimesByCourse" methodName="SearchController_GetTeeTimesByCourse" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Test Request: GetTeeTimesByCourse" id="9ff32a37-8139-44a0-81dc-79faa9983918" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev-api.opentee.com</con:endpoint><con:request/><con:originalUri>https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse</con:originalUri><con:assertion type="XPath Match" id="2f090509-a124-4a75-8e66-1b9299056720" name="Success"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse';
//ns1:Response[1]/ns1:Success[1]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="a7f792cd-bfb8-439c-8712-645a4a59cccf" name="CourseID is the same as the requested courseId"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:CourseId[1]</path><content>${Test Request: GetTeeTimesByCourse#request.courseIds}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="10690c6e-8cf1-4f43-b7c4-8b1163f2cf8f" name="CancellationPeriod is 24"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:TeeTimes[1]/ns1:e[1]/ns1:TeeTimeInformation[1]/ns1:CancellationPeriod[1]</path><content>24</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>test</con:username><con:password>test</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request.hasLessons" value="null"/>
  <con:entry key="request.minPrice" value="0"/>
  <con:entry key="request.hasFood" value="null"/>
  <con:entry key="request.endTime" value="11:59 PM"/>
  <con:entry key="request.hasProShop" value="null"/>
  <con:entry key="request.minDistance" value="null"/>
  <con:entry key="request.hasClubRental" value="null"/>
  <con:entry key="request.hasPracticeBunker" value="null"/>
  <con:entry key="request.centerPointLon" value="-111.0937311"/>
  <con:entry key="request.numberOfHoles" value="null"/>
  <con:entry key="request.playDate" value="${#Project#threeDaysFromNow}"/>
  <con:entry key="request.courseIds" value="5716"/>
  <con:entry key="request.hasPuttingGreen" value="null"/>
  <con:entry key="request.hasGPS" value="null"/>
  <con:entry key="request.hasDrivingRange" value="null"/>
  <con:entry key="sessionId" value="${Test Request: Start Session#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/User/SessionStart'; //ns1:Response[1]/ns1:Data[1]}"/>
  <con:entry key="request.hasBeverages" value="null"/>
  <con:entry key="request.hasLockerRoom" value="null"/>
  <con:entry key="request.hasChippingArea" value="null"/>
  <con:entry key="request.hasCartIncluded" value="null"/>
  <con:entry key="request.numberOfPlayers" value="null"/>
  <con:entry key="request.maxPrice" value="999"/>
  <con:entry key="request.centerPointLat" value="34.0489281"/>
  <con:entry key="request.maxDistance" value="null"/>
  <con:entry key="request.beginTime" value="5:00 AM"/>
  <con:entry key="request.hasShoeRental" value="null"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Test Request: GetCourseTeeTimesSummaries (Check Min-Max Players)compared to other method calls)" id="c35631df-aff0-4c15-bf16-cbfa6f4af8d2"><con:settings/><con:config service="OpenTee.ExternalApi" resourcePath="/TeeOff/v1/Search/GetCourseTeeTimesSummaries" methodName="SearchController_GetCourseTeeTimesSummaries" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Test Request: GetCourseTeeTimesSummaries (Check Min-Max Players)compared to other method calls)" id="c659a636-a0df-400a-98e2-9a63a86f2a1e" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://dev-api.opentee.com</con:endpoint><con:request/><con:originalUri>https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries</con:originalUri><con:assertion type="XPath Match" id="f5b9e7b2-b473-43c0-b03c-c1a3316735eb" name="Success"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Success[1]</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="74f7ea02-77e3-41f0-b5a0-c667c51ee6db" name="CourseID should match the requested courseId"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:CourseId[1]</path><content>5716</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="4cb460de-1df7-45e7-ae4b-75d3ca94bb23" name="CourseName is correct."><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:CourseName[1]</path><content>Chaparral Golf &amp; Country Club</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="c74d97dd-1d17-43ca-be1b-f408a1c9ecc2" name="same Distance with /TeeOff/v1/Search/GetTeeTimesByCourse"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:Distance[1]</path><content>${Test Request: GetTeeTimesByCourse#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse'; //ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:Distance[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="751f62c3-41f6-494e-bc51-dc9801e276da" name="TotalTeeTimes = totalTeeTimes returned in /GetTeeTimesByCourse"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:TotalTeeTimes[1]</path><content>${Test Request: GetTeeTimesByCourse#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse'; count(//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:TeeTimes[1]/ns1:e[*])}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="9f9373d1-352b-48c8-8634-bdfaa7f73516" name="AllowPromos == AllowPromos returned in GetTeeTimesByCourse"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:AllowPromos[1]</path><content>${Test Request: GetTeeTimesByCourse#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse'; //ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:AllowPromos[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="6a1fca3e-3b01-4c0b-9654-2c4ad72884c5" name="MinPlayers is same with GetTeeTimesByCourse's MinPlayer"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:MinPlayers[1]</path><content>${Test Request: GetTeeTimesByCourse#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse'; //ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:TeeTimes[1]/ns1:e[*]/ns1:TeeTimeRules[1]/ns1:MinPlayers[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" id="57d0bed3-3df6-4e3a-93f1-d2a5bb273d26" name="MaxPlayers is same with GetTeeTimesByCourse's MaxPlayer"><con:configuration><path>declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetCourseTeeTimesSummaries';
//ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:MaxPlayers[1]</path><content>${Test Request: GetTeeTimesByCourse#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/Search/GetTeeTimesByCourse'; //ns1:Response[1]/ns1:Data[1]/ns1:e[1]/ns1:TeeTimes[1]/ns1:e[*]/ns1:TeeTimeRules[1]/ns1:MaxPlayers[1]}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>test</con:username><con:password>test</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="request.hasLessons" value="null"/>
  <con:entry key="request.minPrice" value="0"/>
  <con:entry key="request.hasFood" value="null"/>
  <con:entry key="request.endTime" value="11:59 PM"/>
  <con:entry key="request.hasProShop" value="null"/>
  <con:entry key="request.minDistance" value="null"/>
  <con:entry key="request.hasClubRental" value="null"/>
  <con:entry key="request.hasPracticeBunker" value="null"/>
  <con:entry key="request.centerPointLon" value="-111.0937311"/>
  <con:entry key="request.numberOfHoles" value="null"/>
  <con:entry key="request.playDate" value="${#Project#threeDaysFromNow}"/>
  <con:entry key="request.courseIds" value="5716, 100253"/>
  <con:entry key="request.hasPuttingGreen" value="null"/>
  <con:entry key="request.hasGPS" value="null"/>
  <con:entry key="request.hasDrivingRange" value="null"/>
  <con:entry key="sessionId" value="${Test Request: Start Session#ResponseAsXml#declare namespace ns1='https://dev-api.opentee.com/TeeOff/v1/User/SessionStart'; //ns1:Response[1]/ns1:Data[1]}"/>
  <con:entry key="request.hasBeverages" value="null"/>
  <con:entry key="request.hasLockerRoom" value="null"/>
  <con:entry key="request.hasChippingArea" value="null"/>
  <con:entry key="request.hasCartIncluded" value="null"/>
  <con:entry key="request.numberOfPlayers" value="null"/>
  <con:entry key="request.maxPrice" value="999"/>
  <con:entry key="request.centerPointLat" value="34.0489281"/>
  <con:entry key="request.maxDistance" value="null"/>
  <con:entry key="request.beginTime" value="5:00 AM"/>
  <con:entry key="request.hasShoeRental" value="null"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:setupScript>def dateToday = new Date()

playDate = dateToday + 2
threeDaysFromNow = dateToday + 3
playDateMoreThanSevenDays = dateToday + 8

testRunner.testCase.testSuite.project.setPropertyValue("playDate", playDate.format("MM/dd/yyyy"))
testRunner.testCase.testSuite.project.setPropertyValue("threeDaysFromNow", threeDaysFromNow.format("MM/dd/yyyy"))
testRunner.testCase.testSuite.project.setPropertyValue("playDateMoreThanSevenDays", playDateMoreThanSevenDays.format("MM/dd/yyyy"))
testRunner.testCase.testSuite.project.setPropertyValue("dateToday", dateToday.format("MM/dd/yyyy"))</con:setupScript><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>b2e6587d-fe07-420b-8fc5-bfc6c125d34f</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>260fb98d-82db-40a9-85a0-7fb7afc40651</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>a819e2c5-8a5a-4920-b87f-b90926c537e5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>be1dd212-6078-4512-b409-49c661e97783</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>8d3305ba-24cc-496c-a417-42092c35760a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>63550830-6aa5-4a6f-9d23-02e0525e91c8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>ca8dbba9-80a2-4642-a5a0-2a90802ca15d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>7d9d61de-bee9-42fc-8f82-7cc4c7a1512e</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>eea1e4ff-b86b-40fc-84bb-eae7d50cf65c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>